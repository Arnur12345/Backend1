# AI –ê–≥–µ–Ω—Ç–Ω–∞—è –°–∏—Å—Ç–µ–º–∞ –¥–ª—è –†–∞–±–æ—Ç—ã —Å –§–∞–π–ª–∞–º–∏

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã –∏ –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã —Ä–∞–∑–ª–∏—á–Ω—ã–º AI –∞–≥–µ–Ω—Ç–∞–º –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–æ–≤. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ –∞–≥–µ–Ω—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (TXT, CSV, JSON, MD, HTML –¥–æ 10MB)
- ü§ñ –í—ã–±–æ—Ä –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö AI –∞–≥–µ–Ω—Ç–æ–≤
- üí¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —á–∞—Ç —Å –∞–≥–µ–Ω—Ç–∞–º–∏
- üìù –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
- üîí –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üåê –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞–≥–µ–Ω—Ç—ã

1. **SimpleAgent** - –ë–∞–∑–æ–≤—ã–π –∞–≥–µ–Ω—Ç –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö API
2. **PydanticAIAgent** - –ê–≥–µ–Ω—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PydanticAI –∏ OpenAI API
3. **LangchainAgent** - –ê–≥–µ–Ω—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Langchain –∏ OpenAI API

## API Endpoints

### –ê–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
- `POST /agentic/upload` - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
- `GET /agentic/files` - –°–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- `DELETE /agentic/files/{file_id}` - –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
- `GET /agentic/agents` - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
- `POST /agentic/ask` - –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∞–≥–µ–Ω—Ç—É
- `GET /agentic/chat/{file_id}` - –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞ –¥–ª—è —Ñ–∞–π–ª–∞
- `GET /agentic/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /auth/token` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞
- `GET /auth/me` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### Backend

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
cd backend1
pip install -r requirements.txt
```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`:
```
DATABASE_URL=postgresql+asyncpg://username:password@db:5432/postgresdb
SECRET_KEY=your-secret-key-here
OPENAI_API_KEY=your-openai-api-key  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
```bash
alembic upgrade head
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
uvicorn main:app --reload
```

### Frontend

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
cd frontend
npm install
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
npm run dev
```

### Docker Compose

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—é —Å–∏—Å—Ç–µ–º—É –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:
```bash
docker-compose up -d
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏–ª–∏ –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "AI –ê–≥–µ–Ω—Ç—ã"
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª (–ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ)
5. –í—ã–±–µ—Ä–∏—Ç–µ –∞–≥–µ–Ω—Ç–∞
6. –ó–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –≤ —á–∞—Ç–µ

### API

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å:
```bash
curl -X POST "http://localhost:8000/auth/register" \
  -H "Content-Type: application/json" \
  -d '{"username": "user", "email": "user@example.com", "password": "password123"}'
```

2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω:
```bash
curl -X POST "http://localhost:8000/auth/token" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=user@example.com&password=password123"
```

3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª:
```bash
curl -X POST "http://localhost:8000/agentic/upload" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -F "file=@test_document.txt"
```

4. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å:
```bash
curl -X POST "http://localhost:8000/agentic/ask" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"file_id": "FILE_ID", "message": "–ß—Ç–æ —Ç–∞–∫–æ–µ FastAPI?", "agent_name": "SimpleAgent"}'
```

### –¢–µ—Ä–º–∏–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–µ–Ω CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
```bash
cd backend1/src
python terminal_chat.py
```

–ö–æ–º–∞–Ω–¥—ã:
- `upload <file_path>` - –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
- `list` - –ü–æ–∫–∞–∑–∞—Ç—å —Ñ–∞–π–ª—ã
- `select <file_id>` - –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
- `agents` - –ü–æ–∫–∞–∑–∞—Ç—å –∞–≥–µ–Ω—Ç–æ–≤
- `history` - –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞
- `clear` - –û—á–∏—Å—Ç–∏—Ç—å —ç–∫—Ä–∞–Ω
- `help` - –ü–æ–º–æ—â—å
- `exit` - –í—ã—Ö–æ–¥

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏ –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã:
- "–ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ?"
- "–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ç—É —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é?"
- "–ü—Ä–∏–≤–µ–¥–∏ –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞"

### –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö CSV
–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV —Ñ–∞–π–ª –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ:
- "–°–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤ —Ñ–∞–π–ª–µ?"
- "–ö–∞–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ –µ—Å—Ç—å –≤ –¥–∞–Ω–Ω—ã—Ö?"
- "–ù–∞–π–¥–∏ –∞–Ω–æ–º–∞–ª–∏–∏ –≤ –¥–∞–Ω–Ω—ã—Ö"

### –û–±—Ä–∞–±–æ—Ç–∫–∞ JSON
–ó–∞–≥—Ä—É–∑–∏—Ç–µ JSON —Ñ–∞–π–ª –∏ —Ä–∞–±–æ—Ç–∞–π—Ç–µ —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
- "–ö–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É —ç—Ç–æ–≥–æ JSON?"
- "–ù–∞–π–¥–∏ –≤—Å–µ –ø–æ–ª—è —Ç–∏–ø–∞ string"
- "–ü—Ä–µ–æ–±—Ä–∞–∑—É–π –¥–∞–Ω–Ω—ã–µ –≤ –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç"

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îú‚îÄ‚îÄ backend1/src/
‚îÇ   ‚îú‚îÄ‚îÄ agentic_system/          # –ê–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agents/              # –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ file_manager.py      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ agent_manager.py     # –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.py              # API endpoints
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ schema.py           # Pydantic –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ auth/                   # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ tasks/                  # –°–∏—Å—Ç–µ–º–∞ –∑–∞–¥–∞—á
‚îÇ   ‚îî‚îÄ‚îÄ main.py                 # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ frontend/src/
‚îÇ   ‚îú‚îÄ‚îÄ modules/agentic/        # –ú–æ–¥—É–ª—å –∞–≥–µ–Ω—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                 # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ pages/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îî‚îÄ‚îÄ lib/                    # API –∫–ª–∏–µ–Ω—Ç –∏ —Ç–∏–ø—ã
‚îî‚îÄ‚îÄ docker-compose.yml          # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤

–ê–≥–µ–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–ª–∏—á–∏—è API –∫–ª—é—á–µ–π:

- **SimpleAgent**: –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω, —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö API
- **PydanticAIAgent**: –¢—Ä–µ–±—É–µ—Ç OPENAI_API_KEY
- **LangchainAgent**: –¢—Ä–µ–±—É–µ—Ç OPENAI_API_KEY

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –∏ —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤
- –ò–∑–æ–ª—è—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã:
```bash
curl http://localhost:8000/agentic/health
```

–û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ:
- –°—Ç–∞—Ç—É—Å–µ —Å–∏—Å—Ç–µ–º—ã
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ñ–∞–π–ª–æ–≤
- –°–æ—Å—Ç–æ—è–Ω–∏–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∑–æ–∫

## Troubleshooting

### –ê–≥–µ–Ω—Ç—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ OPENAI_API_KEY –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –∫–ª—é—á –≤–∞–ª–∏–¥–Ω—ã–π

### –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–º–∞–∫—Å–∏–º—É–º 10MB)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∏–ø —Ñ–∞–π–ª–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ uploads/

### –ü—Ä–æ–±–ª–µ–º—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏: `alembic upgrade head`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ DATABASE_URL –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞:

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π –æ—Ç `BaseAgent`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `process_query`
3. –î–æ–±–∞–≤—å—Ç–µ –∞–≥–µ–Ω—Ç–∞ –≤ `AgentManager`
4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

–ü—Ä–∏–º–µ—Ä:
```python
class CustomAgent(BaseAgent):
    def __init__(self):
        super().__init__(
            name="CustomAgent",
            description="–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –∞–≥–µ–Ω—Ç–∞"
        )
    
    async def process_query(self, file_content: str, query: str) -> str:
        # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
        return "–û—Ç–≤–µ—Ç –∞–≥–µ–Ω—Ç–∞"
``` 